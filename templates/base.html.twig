<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta content="" name="keywords">
        <meta content="" name="description">
        <title>{% block title %}Welcome!{% endblock %}</title>

        <!-- Favicons -->
        <link href="../img/favicon.png" rel="icon">
        <link href="../img/apple-touch-icon.png" rel="apple-touch-icon">
        <link rel="stylesheet" href="https://bootswatch.com/5/lumen/bootstrap.min.css" crossorigin="anonymous">
        <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" 
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
        {% block stylesheets %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}
    </head>
    <body>
    <header>
        <div id="h">
            <div class="container">
                {% include "_partials/nav.html.twig" %}
                <div class="">
                   <div id="search-results"></div>
                </div>
            <div class="row bg-ligth">
                <h2>{% block titre %}{% endblock %}</h2>
                <h5>Union, Justice, Prospérité</h5>
            </div>
            <!--/row-->
            </div>
            <!--/container-->
        </div>
        <!--/H-->
    </header>
        <div class="container">
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="alert alert-dismissible alert-{{ label }} text-center">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                        {{ message |raw }}
                    </div>
                {% endfor %}
            {% endfor %}
            {% block body %}{% endblock %}
        </div>
    {% include "_partials/footer.html.twig" %}
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js" integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function(){
            $("#search").keyup(function(){
                $('#search-results').html("");
                const search = $(this).val();
                if(search != ""){
                    $.ajax({
                        type: 'GET',
                        url: '/search',
                        data: 'search=' + encodeURIComponent(search),
                        success: function(data){
                            if(data != ""){
                                $('#search-results').append(data);
                            }else{
                                document.getElementById('search-results').innerHTML = "<div class='border border-bottom-info mt-0 text-warning'>Pas de Résultat!</div>"
                            }
                        }
                    });
                }
            });
        });
    </script>
    {% block javascripts %}{% endblock %}
    </body>
</html>
